<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <title>Bank Failures Across the United States from 2000-2013</title>

  <script type="text/javascript" charset="utf-8" src='raphael.js'></script>
  <script type="text/javascript" charset="utf-8" src='raphael.scale.js'></script>
  <script type="text/javascript" charset="utf-8" src='g.raphael.js'></script>
  <script type="text/javascript" charset="utf-8" src='usmap.js'></script>
  <script type="text/javascript" charset="utf-8" src='raphaeltools.js'></script>
  <script type="text/javascript" charset="utf-8" src='raphaeltools.src.js'></script>
  <script src="https://maps.googleapis.com/maps/api/js?sensor=false&libraries=geometry,places"></script>
  <style type="text/css" media="screen">
  body {font-family: helvetica,arial,sans-serif;} 
  a { color: #666;}
  </style>
</head>

<body>
  <div id="plot-map-container"></div>

  <script type="text/javascript" charset="utf-8">

    var points = 
    [["Graceville, FL", "30.9136", "-85.5112", "10", "2013"], ["Edinburg, TX", "26.4628", "-98.2568", "9", "2013"], ["Bridgeport, CT", "41.1723", "-73.2014", "9", "2013"], ["Phoenix, AZ", "33.5586", "-112.0955", "8", "2013"], ["Parsons, TN", "35.6884", "-88.1098", "8", "2013"], ["Wausau, WI", "45.0033", "-89.7256", "8", "2013"], ["Fort Myers, FL", "26.5299", "-81.6907", "8", "2013"], ["Sevierville, TN", "35.7502", "-83.6296", "6", "2013"], ["North Las Vegas, NV", "36.2187", "-115.1293", "6", "2013"], ["Kenosha, WI", "42.6227", "-87.9377", "5", "2013"], ["Scottsdale, AZ", "33.4912", "-111.9237", "5", "2013"], ["Valdosta, GA", "30.7461", "-83.3513", "5", "2013"], ["Asheville, NC", "35.5683", "-82.6272", "5", "2013"], ["Douglasville, GA", "33.7515", "-84.7477", "4", "2013"], ["Lenoir, NC", "35.9726", "-81.5513", "4", "2013"], ["Marianna, FL", "30.6755", "-85.2014", "4", "2013"], ["Orange Park, FL", "30.1672", "-81.7715", "4", "2013"], ["Lexington, KY", "38.1346", "-84.4958", "4", "2013"], ["Gold Canyon, AZ", "33.3715", "-111.4369", "4", "2013"], ["Gold Canyon, AZ", "33.3715", "-111.4369", "4", "2013"], ["Chicago, IL", "41.9288", "-87.6315", "2", "2013"], ["Andover, MN", "45.2573", "-93.2741", "1", "2013"], ["University Place, WA", "47.2012", "-122.5419", "1", "2013"], ["Sunrise Beach, MO", "38.148", "-92.7448", "12", "2012"], ["Braselton, GA", "34.1366", "-83.7837", "11", "2012"], ["Princeton, IL", "41.3731", "-89.4425", "11", "2012"], ["Lutz, FL", "28.136", "-82.4476", "11", "2012"], ["Berwyn, PA", "40.0308", "-75.4499", "10", "2012"], ["Sedalia, MO", "38.7029", "-93.2368", "10", "2012"], ["Tamarac, FL", "26.2129", "-80.2498", "10", "2012"], ["Destin, FL", "30.3981", "-86.4563", "10", "2012"], ["Crete, IL", "41.4271", "-87.5981", "9", "2012"], ["Crete, IL", "41.4271", "-87.5981", "9", "2012"], ["Bloomington, MN", "44.8408", "-93.2983", "9", "2012"], ["Waukegan, IL", "42.3479", "-87.8671", "8", "2012"], ["Jasper, GA", "34.461", "-84.4278", "7", "2012"], ["Chicago, IL", "41.9288", "-87.6315", "7", "2012"], ["Leawood, KS", "38.9586", "-94.6202", "7", "2012"], ["Woodstock, GA", "34.1268", "-84.574", "7", "2012"], ["Buford, GA", "34.1212", "-84.0259", "7", "2012"], ["Naples, FL", "26.2385", "-81.7641", "7", "2012"], ["Glasgow, MO", "39.2062", "-92.8427", "7", "2012"], ["Ailey, GA", "32.1969", "-82.5154", "7", "2012"], ["Lynchburg, TN", "35.2831", "-86.3619", "6", "2012"], ["Marietta, GA", "34.0017", "-84.471", "6", "2012"], ["Palatka, FL", "29.6486", "-81.6376", "6", "2012"], ["Whiteville, NC", "34.2926", "-78.6759", "6", "2012"], ["Shabbona, IL", "41.7691", "-88.8747", "6", "2012"], ["Charleston, SC", "32.9326", "-79.9798", "6", "2012"], ["Kingfisher, OK", "35.851", "-97.9515", "6", "2012"], ["Sylacauga, AL", "33.1167", "-86.3323", "5", "2012"], ["Sylacauga, AL", "33.1167", "-86.3323", "5", "2012"], ["Palm Desert, CA", "33.7724", "-116.3458", "4", "2012"], ["Pawleys Island, SC", "33.4425", "-79.1588", "4", "2012"], ["Maple Grove, MN", "45.1264", "-93.4595", "4", "2012"], ["Gaithersburg, MD", "39.1148", "-77.2462", "4", "2012"], ["Cambridge, MD", "38.4872", "-76.0867", "4", "2012"], ["Fort Lee, NJ", "40.8483", "-73.9725", "4", "2012"], ["Dearborn, MI", "42.3295", "-83.1908", "3", "2012"], ["Wilmette, IL", "42.0772", "-87.7286", "3", "2012"], ["Rock Spring, GA", "34.8091", "-85.2068", "3", "2012"], ["Chicago, IL", "41.9288", "-87.6315", "3", "2012"], ["Chicago, IL", "41.9288", "-87.6315", "3", "2012"], ["Little Falls, MN", "45.9776", "-94.4608", "2", "2012"], ["Ellaville, GA", "32.2933", "-84.3059", "2", "2012"], ["Shelbyville, IN", "39.5239", "-85.7853", "2", "2012"], ["Hoffman Estates, IL", "42.0793", "-88.2237", "2", "2012"], ["Knoxville, TN", "36.0582", "-83.9147", "1", "2012"], ["Forest Lake, MN", "45.2673", "-93.0196", "1", "2012"], ["Franklin, TN", "35.9086", "-86.7811", "1", "2012"], ["Jacksonville, FL", "30.3533", "-81.499", "1", "2012"], ["Jacksonville, FL", "30.3533", "-81.499", "1", "2012"], ["Stockbridge, GA", "33.5547", "-84.1872", "1", "2012"], ["Belleview, FL", "29.0563", "-82.0257", "1", "2012"], ["Phoenix, AZ", "33.5586", "-112.0955", "12", "2011"], ["Crestview, FL", "30.6367", "-86.6635", "12", "2011"], ["Lacombe, LA", "30.3586", "-89.9371", "11", "2011"], ["Johnston, IA", "41.7031", "-93.7204", "11", "2011"], ["Rockmart, GA", "33.9762", "-85.0527", "11", "2011"], ["Saint George, UT", "37.0645", "-113.5746", "11", "2011"], ["Omaha, NE", "41.2079", "-96.1183", "11", "2011"], ["Des Plaines, IL", "41.9986", "-87.9028", "10", "2011"], ["Greenwood Village, CO", "39.6172", "-104.9508", "10", "2011"], ["Jonesboro, GA", "33.5209", "-84.3238", "10", "2011"], ["Decatur, GA", "33.6878", "-84.2507", "10", "2011"], ["Clearwater, FL", "27.9839", "-82.7181", "10", "2011"], ["Aledo, IL", "41.1987", "-90.7219", "10", "2011"], ["Cranford, NJ", "40.6559", "-74.3045", "10", "2011"], ["Asheville, NC", "35.5683", "-82.6272", "10", "2011"], ["Gray, GA", "33.0161", "-83.571", "10", "2011"], ["Ellington, MO", "37.2292", "-90.9713", "10", "2011"], ["Wyoming, MN", "45.3349", "-93.0132", "10", "2011"], ["Plano, TX", "33.0362", "-96.6712", "9", "2011"], ["Nevada City, CA", "39.3496", "-120.8766", "9", "2011"], ["Norfolk, VA", "36.853", "-76.2882", "9", "2011"], ["Milton, FL", "30.6668", "-87.185", "9", "2011"], ["Woodstock, GA", "34.1268", "-84.574", "9", "2011"], ["Cumming, GA", "34.2281", "-84.178", "9", "2011"], ["Geneva, IL", "41.88", "-88.3587", "8", "2011"], ["Statesboro, GA", "32.3729", "-81.8443", "8", "2011"], ["Palm Beach, FL", "26.6779", "-80.038", "8", "2011"], ["Huntingdon Valley, PA", "40.1287", "-75.0597", "8", "2011"], ["Olathe, KS", "38.8518", "-94.7786", "8", "2011"], ["Colfax, WA", "46.8582", "-117.4444", "8", "2011"], ["Shorewood, IL", "41.52", "-88.2017", "8", "2011"], ["Evansville, IN", "37.9708", "-87.4897", "7", "2011"], ["Columbia, SC", "34.0988", "-81.0612", "7", "2011"], ["Richmond, VA", "37.5858", "-77.4888", "7", "2011"], ["Greeley, CO", "40.3996", "-104.8002", "7", "2011"], ["Sarasota, FL", "27.3101", "-82.5214", "7", "2011"], ["Apollo Beach, FL", "27.7713", "-82.4143", "7", "2011"], ["Prescott, AZ", "34.6248", "-112.422", "7", "2011"], ["Port St. Lucie, FL", "27.2939", "-80.3503", "7", "2011"], ["Stockbridge, GA", "33.5547", "-84.1872", "7", "2011"], ["Atlanta, GA", "33.8477", "-84.2814", "7", "2011"], ["Windsor, CO", "40.4724", "-104.8939", "7", "2011"], ["Castle Rock, CO", "39.3276", "-104.8163", "7", "2011"], ["Chicago, IL", "41.9288", "-87.6315", "7", "2011"], ["Clayton, GA", "34.8953", "-83.3775", "6", "2011"], ["Tampa, FL", "27.943", "-82.524", "6", "2011"], ["Jackson, GA", "33.3026", "-83.9691", "6", "2011"], ["Charleston, SC", "32.9326", "-79.9798", "6", "2011"], ["Snohomish, WA", "47.9402", "-122.0062", "5", "2011"], ["Burlington, WA", "48.5323", "-122.3184", "5", "2011"], ["Franklin, GA", "33.2781", "-85.151", "5", "2011"], ["Macon, GA", "32.8293", "-83.4928", "5", "2011"], ["Cocoa Beach, FL", "28.3257", "-80.6122", "5", "2011"], ["Mount Clemens, MI", "42.5973", "-82.878", "4", "2011"], ["Valdosta, GA", "30.7461", "-83.3513", "4", "2011"], ["Dallas, GA", "33.9922", "-84.855", "4", "2011"], ["Brooksville, FL", "28.5915", "-82.3547", "4", "2011"], ["Winter Park, FL", "28.6079", "-81.3055", "4", "2011"], ["Carthage, MS", "32.7987", "-89.4753", "4", "2011"], ["Rosemount, MN", "44.7258", "-93.0656", "4", "2011"], ["Birmingham, AL", "33.4468", "-86.7404", "4", "2011"], ["Birmingham, AL", "33.4468", "-86.7404", "4", "2011"], ["East Ellijay, GA", "34.6585", "-84.4932", "4", "2011"], ["Cartersville, GA", "34.2187", "-84.854", "4", "2011"], ["Las Vegas, NV", "36.11", "-115.2118", "4", "2011"], ["Western Springs, IL", "41.8039", "-87.9027", "4", "2011"], ["Wood Dale, IL", "41.9664", "-87.9811", "3", "2011"], ["Milwaukee, WI", "43.0434", "-87.8945", "3", "2011"], ["Davis, OK", "34.4598", "-97.2046", "3", "2011"], ["Davis, OK", "34.4598", "-97.2046", "3", "2011"], ["San Luis Obispo, CA", "35.279", "-120.6968", "2", "2011"], ["Napa, CA", "38.5575", "-122.1554", "2", "2011"], ["Springfield, GA", "32.4211", "-81.3385", "2", "2011"], ["Clarkesville, GA", "34.7251", "-83.5108", "2", "2011"], ["Palm Springs, CA", "33.728", "-116.5116", "2", "2011"], ["Cassville, WI", "42.7379", "-90.9354", "2", "2011"], ["Hamtramck, MI", "42.4056", "-83.0531", "2", "2011"], ["Port Orange, FL", "29.1099", "-80.973", "2", "2011"], ["Chicago, IL", "41.9288", "-87.6315", "2", "2011"], ["Watkinsville, GA", "33.7694", "-83.3897", "2", "2011"], ["Roswell, GA", "34.056", "-84.3795", "2", "2011"], ["Taos, NM", "36.4146", "-105.5222", "1", "2011"], ["Louisville, CO", "39.9558", "-105.1683", "1", "2011"], ["Stoughton, WI", "42.9252", "-89.1562", "1", "2011"], ["Camargo, OK", "35.9721", "-99.2219", "1", "2011"], ["Denver, CO", "39.7525", "-104.9995", "1", "2011"], ["Asheville, NC", "35.5683", "-82.6272", "1", "2011"], ["Easley, SC", "34.8861", "-82.5857", "1", "2011"], ["Easley, SC", "34.8861", "-82.5857", "1", "2011"], ["Brunswick, GA", "31.1823", "-81.4926", "1", "2011"], ["Scottsdale, AZ", "33.4912", "-111.9237", "1", "2011"], ["Orlando, FL", "28.5883", "-81.2439", "1", "2011"], ["Orlando, FL", "28.5883", "-81.2439", "1", "2011"], ["Batesville, AR", "35.7881", "-91.6458", "12", "2010"], ["Atlanta, GA", "33.8477", "-84.2814", "12", "2010"], ["Atlanta, GA", "33.8477", "-84.2814", "12", "2010"], ["Dawsonville, GA", "34.463", "-84.151", "12", "2010"], ["Coral Gables, FL", "25.7541", "-80.271", "12", "2010"], ["Southampton, PA", "40.1877", "-75.0058", "12", "2010"], ["Farmington Hills, MI", "42.4853", "-83.3772", "12", "2010"], ["Burlington, WI", "42.6496", "-88.2985", "11", "2010"], ["Bala Cynwyd, PA", "40.0143", "-75.2267", "11", "2010"], ["Carrabelle, FL", "29.9153", "-84.5817", "11", "2010"], ["Scottsdale, AZ", "33.4912", "-111.9237", "11", "2010"], ["Vidalia, GA", "32.2201", "-82.4337", "11", "2010"], ["Tifton, GA", "31.4382", "-83.4391", "11", "2010"], ["Westminster, CA", "33.7474", "-117.9939", "11", "2010"], ["Tacoma, WA", "47.1511", "-122.4492", "11", "2010"], ["Woodland Hills, CA", "34.1749", "-118.6152", "11", "2010"], ["Randallstown, MD", "39.3788", "-76.8139", "11", "2010"], ["Scottsdale, AZ", "33.4912", "-111.9237", "10", "2010"], ["Overland Park, KS", "38.9247", "-94.7029", "10", "2010"], ["Maywood, IL", "41.8813", "-87.8441", "10", "2010"], ["Barnesville, GA", "33.0747", "-84.1389", "10", "2010"], ["Gordon, GA", "32.8813", "-83.3133", "10", "2010"], ["Tampa, FL", "27.943", "-82.524", "10", "2010"], ["Jacksonville, FL", "30.3533", "-81.499", "10", "2010"], ["Jefferson City, MO", "38.5516", "-92.2745", "10", "2010"], ["Chesterfield, MO", "38.65", "-90.5334", "10", "2010"], ["Olathe, KS", "38.8518", "-94.7786", "10", "2010"], ["Shoreline, WA", "47.7557", "-122.3415", "10", "2010"], ["Crawfordville, FL", "30.1755", "-84.3386", "10", "2010"], ["Arlington, WA", "48.1853", "-121.6778", "9", "2010"], ["Ponte Vedra Beach, FL", "30.1023", "-81.3532", "9", "2010"], ["Ponte Vedra Beach, FL", "30.1023", "-81.3532", "9", "2010"], ["Milford, OH", "39.1659", "-84.2295", "9", "2010"], ["Winder, GA", "33.9846", "-83.6978", "9", "2010"], ["Douglasville, GA", "33.7515", "-84.7477", "9", "2010"], ["Ellijay, GA", "34.7044", "-84.4253", "9", "2010"], ["Cherry Hill, NJ", "39.9068", "-74.9966", "9", "2010"], ["Bradenton, FL", "27.4138", "-82.3698", "9", "2010"], ["Sonoma, CA", "38.2433", "-122.4602", "8", "2010"], ["Solvang, CA", "34.6145", "-120.1414", "8", "2010"], ["Chico, CA", "39.7158", "-121.8147", "8", "2010"], ["Stockton, CA", "37.9011", "-121.3995", "8", "2010"], ["Chicago, IL", "41.9288", "-87.6315", "8", "2010"], ["Martinsville, VA", "36.7266", "-79.8667", "8", "2010"], ["Ocala, FL", "29.1178", "-82.3122", "8", "2010"], ["Bartow, FL", "27.8889", "-81.8136", "8", "2010"], ["Palos Heights, IL", "41.6618", "-87.7889", "8", "2010"], ["Chicago, IL", "41.9288", "-87.6315", "8", "2010"], ["Eugene, OR", "44.069", "-123.0825", "7", "2010"], ["Longview, WA", "46.1933", "-123.0548", "7", "2010"], ["Panama City Beach, FL", "30.2092", "-85.7961", "7", "2010"], ["Port Saint Joe, FL", "29.8409", "-85.269", "7", "2010"], ["Acworth, GA", "34.0264", "-84.6998", "7", "2010"], ["Cave Junction, OR", "42.1193", "-123.6028", "7", "2010"], ["Las Vegas, NV", "36.11", "-115.2118", "7", "2010"], ["New Prague, MN", "44.5411", "-93.5902", "7", "2010"], ["Sylvan Grove, KS", "39.0233", "-98.3825", "7", "2010"], ["Kingstree, SC", "33.6572", "-79.7767", "7", "2010"], ["Jasper, GA", "34.461", "-84.4278", "7", "2010"], ["Lantana, FL", "26.5867", "-80.052", "7", "2010"], ["Hastings, MI", "42.6318", "-85.2931", "7", "2010"], ["Clewiston, FL", "26.5378", "-81.0113", "7", "2010"], ["Aventura, FL", "25.9565", "-80.1392", "7", "2010"], ["Miami, FL", "25.9388", "-80.2144", "7", "2010"], ["Spartanburg, SC", "34.9318", "-82.0102", "7", "2010"], ["Bluffton, SC", "32.2528", "-80.8895", "7", "2010"], ["Blackwell, OK", "36.7875", "-97.3007", "7", "2010"], ["Port Chester, NY", "41.0232", "-73.6795", "7", "2010"], ["Baltimore, MD", "39.2904", "-76.6122", "7", "2010"], ["Baltimore, MD", "39.2904", "-76.6122", "7", "2010"], ["Albuquerque, NM", "35.0441", "-106.8904", "6", "2010"], ["Savannah, GA", "32.1213", "-81.1822", "6", "2010"], ["Englewood, FL", "26.9554", "-82.2987", "6", "2010"], ["Reno, NV", "39.4896", "-119.7492", "6", "2010"], ["Seattle, WA", "47.6026", "-122.3284", "6", "2010"], ["Lincoln, NE", "40.8176", "-96.7114", "6", "2010"], ["Arcola, IL", "39.6753", "-88.296", "6", "2010"], ["Rosedale, MS", "33.8864", "-90.9069", "6", "2010"], ["Las Vegas, NV", "36.11", "-115.2118", "5", "2010"], ["Granite Bay, CA", "38.7625", "-121.1649", "5", "2010"], ["Tampa, FL", "27.943", "-82.524", "5", "2010"], ["Naples, FL", "26.2385", "-81.7641", "5", "2010"], ["Fort Lauderdale, FL", "26.1882", "-80.1711", "5", "2010"], ["Saint Paul, MN", "45.0101", "-93.1519", "5", "2010"], ["Elmwood Park, IL", "41.9232", "-87.8057", "5", "2010"], ["Springfield, MO", "37.219", "-93.3176", "5", "2010"], ["Plymouth, MI", "42.3655", "-83.5367", "5", "2010"], ["Saint Marys, GA", "30.7917", "-81.5731", "5", "2010"], ["San Diego, CA", "32.9014", "-117.2079", "5", "2010"], ["Mesa, AZ", "33.3972", "-111.7858", "5", "2010"], ["Champlin, MN", "45.1803", "-93.4017", "5", "2010"], ["Bonifay, FL", "30.8257", "-85.7357", "5", "2010"], ["Everett, WA", "47.979", "-122.2021", "4", "2010"], ["Butler, MO", "38.2509", "-94.3105", "4", "2010"], ["Butler, MO", "38.2509", "-94.3105", "4", "2010"], ["Port Huron, MI", "42.9875", "-82.4666", "4", "2010"], ["Port Huron, MI", "42.9875", "-82.4666", "4", "2010"], ["Port Huron, MI", "42.9875", "-82.4666", "4", "2010"], ["San Juan, PR", "18.3852", "-66.0631", "4", "2010"], ["Naperville, IL", "41.8032", "-88.1341", "4", "2010"], ["Peotone, IL", "41.3308", "-87.8018", "4", "2010"], ["Chicago, IL", "41.9288", "-87.6315", "4", "2010"], ["Chicago, IL", "41.9288", "-87.6315", "4", "2010"], ["Chicago, IL", "41.9288", "-87.6315", "4", "2010"], ["Chicago, IL", "41.9288", "-87.6315", "4", "2010"], ["Rockford, IL", "42.3423", "-89.0816", "4", "2010"], ["Lynnwood, WA", "47.8561", "-122.2829", "4", "2010"], ["San Rafael, CA", "37.9719", "-122.5023", "4", "2010"], ["Oakland, CA", "37.735", "-122.2088", "4", "2010"], ["Lowell, MA", "42.6241", "-71.3389", "4", "2010"], ["Fort Pierce, FL", "27.4594", "-80.5341", "4", "2010"], ["Clermont, FL", "28.505", "-81.7897", "4", "2010"], ["Palatka, FL", "29.6486", "-81.6376", "4", "2010"], ["Sterling Heights, MI", "42.5587", "-83.0092", "4", "2010"], ["Myrtle Beach, SC", "33.7527", "-78.9071", "4", "2010"], ["Phoenix, AZ", "33.5586", "-112.0955", "3", "2010"], ["Cartersville, GA", "34.2187", "-84.854", "3", "2010"], ["Key West, FL", "24.5857", "-81.681", "3", "2010"], ["Carrollton, GA", "33.5756", "-85.134", "3", "2010"], ["Aurora, MN", "47.4812", "-92.1332", "3", "2010"], ["Fort Deposit, AL", "31.9977", "-86.5743", "3", "2010"], ["Hiawassee, GA", "34.8915", "-83.6861", "3", "2010"], ["Ellijay, GA", "34.7044", "-84.4253", "3", "2010"], ["Draper, UT", "40.4982", "-111.8436", "3", "2010"], ["Duluth, GA", "34.0408", "-84.1665", "3", "2010"], ["Parma, OH", "41.4048", "-81.7229", "3", "2010"], ["Covington, LA", "30.4574", "-90.143", "3", "2010"], ["Orlando, FL", "28.5883", "-81.2439", "3", "2010"], ["New York, NY", "40.7528", "-73.9725", "3", "2010"], ["New York, NY", "40.7528", "-73.9725", "3", "2010"], ["Ogden, UT", "41.2471", "-112.1316", "3", "2010"], ["Germantown, MD", "39.207", "-77.238", "3", "2010"], ["Normal, IL", "40.5282", "-88.9801", "3", "2010"], ["Boca Raton, FL", "26.4095", "-80.0942", "3", "2010"], ["Tacoma, WA", "47.1511", "-122.4492", "2", "2010"], ["Carson City, NV", "39.1496", "-119.7178", "2", "2010"], ["La Jolla, CA", "32.8667", "-117.2481", "2", "2010"], ["Orland Park, IL", "41.6163", "-87.8371", "2", "2010"], ["La Coste, TX", "29.3237", "-98.8275", "2", "2010"], ["Marco Island, FL", "25.9376", "-81.6977", "2", "2010"], ["Hancock, MN", "45.4971", "-95.7655", "2", "2010"], ["Bainbridge Island, WA", "47.6476", "-122.5364", "1", "2010"], ["Los Angeles, CA", "34.0396", "-118.2661", "1", "2010"], ["Cornelia, GA", "34.4968", "-83.5849", "1", "2010"], ["Hallock, MN", "48.7681", "-96.9517", "1", "2010"], ["Immokalee, FL", "26.2304", "-81.2215", "1", "2010"], ["Carrollton, GA", "33.5756", "-85.134", "1", "2010"], ["The Dalles, OR", "45.5447", "-121.1543", "1", "2010"], ["Seattle, WA", "47.6026", "-122.3284", "1", "2010"], ["Santa Fe, NM", "35.7847", "-105.8749", "1", "2010"], ["Leeton, MO", "38.5773", "-93.6842", "1", "2010"], ["Miami, FL", "25.9388", "-80.2144", "1", "2010"], ["Kaysville, UT", "41.0285", "-111.9205", "1", "2010"], ["Kaysville, UT", "41.0285", "-111.9205", "1", "2010"], ["Antioch, IL", "42.4669", "-88.055", "1", "2010"], ["Bellingham, WA", "48.7395", "-122.4809", "1", "2010"], ["Santa Monica, CA", "34.016", "-118.4925", "12", "2009"], ["La Jolla, CA", "32.8667", "-117.2481", "12", "2009"], ["Springfield, IL", "39.8011", "-89.6502", "12", "2009"], ["Springfield, IL", "39.8011", "-89.6502", "12", "2009"], ["New Baltimore, MI", "42.6757", "-82.7773", "12", "2009"], ["Panama City, FL", "30.1521", "-85.7267", "12", "2009"], ["Atlanta, GA", "33.8477", "-84.2814", "12", "2009"], ["Overland Park, KS", "38.9247", "-94.7029", "12", "2009"], ["Mesa, AZ", "33.3972", "-111.7858", "12", "2009"], ["Miami, FL", "25.9388", "-80.2144", "12", "2009"], ["Reston, VA", "38.9599", "-77.3428", "12", "2009"], ["Aurora, IL", "41.759", "-88.2615", "12", "2009"], ["Cleveland, OH", "41.4379", "-81.5366", "12", "2009"], ["Reidsville, GA", "32.0178", "-82.0966", "12", "2009"], ["Norcross, GA", "33.9681", "-84.2304", "12", "2009"], ["Atlanta, GA", "33.8477", "-84.2814", "12", "2009"], ["Fort Myers, FL", "26.5299", "-81.6907", "11", "2009"], ["San Clemente, CA", "33.4802", "-117.6141", "11", "2009"], ["Naples, FL", "26.2385", "-81.7641", "11", "2009"], ["Sarasota, FL", "27.3101", "-82.5214", "11", "2009"], ["San Francisco, CA", "37.7312", "-122.3826", "11", "2009"], ["San Francisco, CA", "37.7312", "-122.3826", "11", "2009"], ["San Francisco, CA", "37.7312", "-122.3826", "11", "2009"], ["Detroit, MI", "42.3679", "-83.1386", "11", "2009"], ["Sparta, GA", "33.2661", "-83.027", "11", "2009"], ["Houston, TX", "29.8688", "-95.538", "10", "2009"], ["Madisonville, TX", "30.9689", "-95.8912", "10", "2009"], ["Teague, TX", "31.623", "-96.2393", "10", "2009"], ["Chicago, IL", "41.9288", "-87.6315", "10", "2009"], ["San Francisco, CA", "37.7312", "-122.3826", "10", "2009"], ["Los Angeles, CA", "34.0396", "-118.2661", "10", "2009"], ["San Diego, CA", "32.9014", "-117.2079", "10", "2009"], ["Lemont, IL", "41.6815", "-87.9706", "10", "2009"], ["Phoenix, AZ", "33.5586", "-112.0955", "10", "2009"], ["Westmont, IL", "41.7949", "-87.9709", "10", "2009"], ["Westmont, IL", "41.7949", "-87.9709", "10", "2009"], ["Racine, WI", "42.6929", "-87.8043", "10", "2009"], ["Bradenton, FL", "27.4138", "-82.3698", "10", "2009"], ["Naples, FL", "26.2385", "-81.7641", "10", "2009"], ["Lawrenceville, GA", "33.935", "-83.9538", "10", "2009"], ["Naples, FL", "26.2385", "-81.7641", "10", "2009"], ["Bakersfield, CA", "35.3832", "-119.2272", "10", "2009"], ["Pueblo, CO", "38.0934", "-104.6652", "10", "2009"], ["Spring Grove, MN", "43.5872", "-91.6241", "10", "2009"], ["Warren, MI", "42.4736", "-82.9968", "10", "2009"], ["Atlanta, GA", "33.8477", "-84.2814", "9", "2009"], ["Louisville, KY", "38.0858", "-85.8495", "9", "2009"], ["Columbus, IN", "39.2359", "-85.836", "9", "2009"], ["Lacey, WA", "47.0343", "-122.8232", "9", "2009"], ["Lacey, WA", "47.0343", "-122.8232", "9", "2009"], ["Chicago, IL", "41.9288", "-87.6315", "9", "2009"], ["Flagstaff, AZ", "35.1981", "-111.6513", "9", "2009"], ["Rolling Meadows, IL", "42.0678", "-88.0185", "9", "2009"], ["Sioux City, IA", "42.4632", "-96.322", "9", "2009"], ["Oak Forest, IL", "41.6033", "-87.7547", "9", "2009"], ["Kansas City, MO", "39.1068", "-94.566", "9", "2009"], ["Ventura, CA", "34.2863", "-119.2267", "8", "2009"], ["Forest Lake, MN", "45.2673", "-93.0196", "8", "2009"], ["Baltimore, MD", "39.2904", "-76.6122", "8", "2009"], ["Austin, TX", "30.2058", "-97.8002", "8", "2009"], ["Birmingham, AL", "33.4468", "-86.7404", "8", "2009"], ["Newnan, GA", "33.3734", "-84.8541", "8", "2009"], ["Atlanta, GA", "33.8477", "-84.2814", "8", "2009"], ["Las Vegas, NV", "36.11", "-115.2118", "8", "2009"], ["Phoenix, AZ", "33.5586", "-112.0955", "8", "2009"], ["Gilbert, AZ", "33.3462", "-111.8153", "8", "2009"], ["Montgomery, AL", "32.3934", "-86.3222", "8", "2009"], ["Pittsburgh, PA", "40.4495", "-79.988", "8", "2009"], ["Prineville, OR", "44.1066", "-120.6642", "8", "2009"], ["Venice, FL", "27.1019", "-82.3826", "8", "2009"], ["Sarasota, FL", "27.3101", "-82.5214", "8", "2009"], ["Harvey, IL", "41.6088", "-87.6739", "7", "2009"], ["Elizabeth, NJ", "40.6728", "-74.179", "7", "2009"], ["West Chester, OH", "39.3376", "-84.4044", "7", "2009"], ["Jupiter, FL", "26.9197", "-80.0734", "7", "2009"], ["Altus, OK", "34.6182", "-99.2732", "7", "2009"], ["Gray, GA", "33.0161", "-83.571", "7", "2009"], ["Perry, GA", "32.4355", "-83.7267", "7", "2009"], ["Macon, GA", "32.8293", "-83.4928", "7", "2009"], ["Woodstock, GA", "34.1268", "-84.574", "7", "2009"], ["Alpharetta, GA", "34.133", "-84.3005", "7", "2009"], ["Suwanee, GA", "34.0535", "-84.0659", "7", "2009"], ["Suwanee, GA", "34.0535", "-84.0659", "7", "2009"], ["Temecula, CA", "33.53", "-117.1035", "7", "2009"], ["Rancho Cucamonga, CA", "34.0995", "-117.5808", "7", "2009"], ["Sioux Falls, SD", "43.5042", "-96.8391", "7", "2009"], ["Winder, GA", "33.9846", "-83.6978", "7", "2009"], ["Thermopolis, WY", "43.7698", "-108.4541", "7", "2009"], ["Worth, IL", "41.6889", "-87.7944", "7", "2009"], ["Dallas, TX", "32.7825", "-96.8207", "7", "2009"], ["Danville, IL", "40.153", "-87.6459", "7", "2009"], ["Elizabeth, IL", "42.3014", "-90.1534", "7", "2009"], ["Oregon, IL", "41.9895", "-89.2981", "7", "2009"], ["Winchester, IL", "39.6287", "-90.461", "7", "2009"], ["Clinton, IL", "40.1462", "-88.9746", "7", "2009"], ["Los Angeles, CA", "34.0396", "-118.2661", "6", "2009"], ["Irvine, CA", "33.7011", "-117.797", "6", "2009"], ["Pine City, MN", "45.8427", "-92.9077", "6", "2009"], ["Newnan, GA", "33.3734", "-84.8541", "6", "2009"], ["Villa Rica, GA", "33.7105", "-84.9112", "6", "2009"], ["Anthony, KS", "37.1188", "-98.0656", "6", "2009"], ["Wilmington, NC", "34.1256", "-77.919", "6", "2009"], ["Fayetteville, GA", "33.4811", "-84.4798", "6", "2009"], ["Lincolnwood, IL", "42.0066", "-87.7369", "6", "2009"], ["Macomb, IL", "40.412", "-90.6238", "5", "2009"], ["Champaign, IL", "40.1319", "-88.2952", "5", "2009"], ["Coral Gables, FL", "25.7541", "-80.271", "5", "2009"], ["Bremerton, WA", "47.571", "-122.7568", "5", "2009"], ["Layton, UT", "41.0713", "-111.9874", "5", "2009"], ["Ridgewood, NJ", "40.9816", "-74.1138", "5", "2009"], ["Atlanta, GA", "33.8477", "-84.2814", "5", "2009"], ["Ketchum, ID", "43.777", "-114.6251", "4", "2009"], ["Calabasas, CA", "34.1182", "-118.6739", "4", "2009"], ["Farmington Hills, MI", "42.4853", "-83.3772", "4", "2009"], ["Kennesaw, GA", "34.0331", "-84.6011", "4", "2009"], ["Elko, NV", "40.9527", "-115.7906", "4", "2009"], ["Elko, NV", "40.9527", "-115.7906", "4", "2009"], ["Greeley, CO", "40.3996", "-104.8002", "4", "2009"], ["Wilmington, NC", "34.1256", "-77.919", "4", "2009"], ["Atlanta, GA", "33.8477", "-84.2814", "3", "2009"], ["Paola, KS", "38.5708", "-94.8803", "3", "2009"], ["Colorado Springs, CO", "38.8609", "-104.8734", "3", "2009"], ["Stockbridge, GA", "33.5547", "-84.1872", "3", "2009"], ["Commerce, GA", "34.1306", "-83.5874", "3", "2009"], ["Henderson, NV", "36.0312", "-115.0739", "2", "2009"], ["Glenwood, IL", "41.5416", "-87.6116", "2", "2009"], ["Silverton, OR", "44.9544", "-122.7138", "2", "2009"], ["Beaverton, OR", "45.5222", "-122.8593", "2", "2009"], ["Pittsfield, IL", "39.5777", "-90.7755", "2", "2009"], ["Cape Coral, FL", "26.6356", "-82.0164", "2", "2009"], ["Loup City, NE", "41.2787", "-99.0028", "2", "2009"], ["Merced, CA", "37.29", "-120.4888", "2", "2009"], ["Culver City, CA", "33.995", "-118.3917", "2", "2009"], ["Culver City, CA", "33.995", "-118.3917", "2", "2009"], ["Ocala, FL", "29.1178", "-82.3122", "1", "2009"], ["Crofton, MD", "39.0142", "-76.6794", "1", "2009"], ["Salt Lake City, UT", "40.7608", "-111.8911", "1", "2009"], ["Redlands, CA", "34.0008", "-117.1266", "1", "2009"], ["Vancouver, WA", "45.6023", "-122.5167", "1", "2009"], ["Berkeley, IL", "41.8864", "-87.9019", "1", "2009"], ["Sanderson, TX", "30.1424", "-102.394", "12", "2008"], ["Duluth, GA", "34.0408", "-84.1665", "12", "2008"], ["Jackson, GA", "33.3026", "-83.9691", "12", "2008"], ["Pomona, CA", "34.039", "-117.7548", "11", "2008"], ["Newport Beach, CA", "33.6275", "-117.8734", "11", "2008"], ["Loganville, GA", "33.8042", "-83.8893", "11", "2008"], ["Los Angeles, CA", "34.0396", "-118.2661", "11", "2008"], ["Houston, TX", "29.8688", "-95.538", "11", "2008"], ["Bradenton, FL", "27.4138", "-82.3698", "10", "2008"], ["Alpharetta, GA", "34.133", "-84.3005", "10", "2008"], ["Eldred, IL", "39.2408", "-90.5348", "10", "2008"], ["Northville, MI", "42.4165", "-83.5297", "10", "2008"], ["Henderson, NV", "36.0312", "-115.0739", "9", "2008"], ["Northfork, WV", "37.4209", "-81.4061", "9", "2008"], ["Henderson, NV", "36.0312", "-115.0739", "9", "2008"], ["Alpharetta, GA", "34.133", "-84.3005", "8", "2008"], ["Topeka, KS", "39.038", "-95.7278", "8", "2008"], ["Bradenton, FL", "27.4138", "-82.3698", "8", "2008"], ["Newport Beach, CA", "33.6275", "-117.8734", "7", "2008"], ["Reno, NV", "39.4896", "-119.7492", "7", "2008"], ["Pasadena, CA", "34.1379", "-118.1296", "7", "2008"], ["Staples, MN", "46.3851", "-94.8082", "5", "2008"], ["Bentonville, AR", "36.3457", "-94.2514", "5", "2008"], ["Hume, MO", "38.0922", "-94.558", "3", "2008"], ["Kansas City, MO", "39.1068", "-94.566", "1", "2008"], ["Lakeview, OH", "40.5152", "-83.921", "10", "2007"], ["Alpharetta, GA", "34.133", "-84.3005", "9", "2007"], ["Pittsburgh, PA", "40.4495", "-79.988", "2", "2007"], ["Ephraim, UT", "39.3541", "-111.577", "6", "2004"], ["White Plains, NY", "41.0291", "-73.758", "3", "2004"], ["Tallahassee, FL", "30.5802", "-84.1266", "3", "2004"], ["Newark, NJ", "40.7211", "-74.147", "2", "2004"], ["Philadelphia, PA", "39.9524", "-75.1653", "11", "2003"], ["Blanchardville, WI", "42.7947", "-89.8629", "5", "2003"], ["Torrance, CA", "33.8669", "-118.3312", "2", "2003"], ["Cheneyville, LA", "30.9957", "-92.3328", "12", "2002"], ["Alamo, TN", "35.8168", "-89.1612", "11", "2002"], ["Atlanta, GA", "33.8477", "-84.2814", "9", "2002"], ["Chicago, IL", "41.9288", "-87.6315", "6", "2002"], ["Stamford, CT", "41.0534", "-73.5387", "6", "2002"], ["Stamford, CT", "41.0534", "-73.5387", "6", "2002"], ["Boca Raton, FL", "26.4095", "-80.0942", "3", "2002"], ["Phoenix, AZ", "33.5586", "-112.0955", "2", "2002"], ["Oakwood, OH", "41.1357", "-84.3936", "2", "2002"], ["Sierra Blanca, TX", "31.2245", "-105.3203", "1", "2002"], ["Miami, FL", "25.9388", "-80.2144", "1", "2002"], ["Gravette, AR", "36.415", "-94.4715", "9", "2001"], ["Hinsdale, IL", "41.8024", "-87.9306", "7", "2001"], ["Malta, OH", "39.6284", "-81.9107", "5", "2001"], ["Manchester, NH", "42.9403", "-71.4435", "2", "2001"], ["Metropolis, IL", "37.23", "-88.7139", "12", "2000"], ["Honolulu, HI", "21.3209", "-157.8389", "10", "2000"]]

  var map, paper, pageWidth=800;
  var plotted = []
  //var whitedot = []

  var drawIt = function() {
    //location.reload(true)
    paper = new ScaleRaphael('plot-map-container', 950, 650);
    map = paper.USMap();
    paper.scaleAll(pageWidth/map.width);
    //paper.text(50,600,"Bank Failures Across the United States from 2000-2013");
    paper.TextBox({
      x:40,y:590,width:map.width-50,height:50,str:"Bank Failures Across the United States from 2000-2013",textAttrs:{'font-size':25},rectAttrs:{'opacity':0.0}
    });

    /* slider */
    var labelWidth = 60;
    var sliderMinX = 400;
    var sliderWidth = 450;
    var sliderMaxX = sliderMinX+sliderWidth;

    var hslider = paper.Slider(null,{x:sliderMinX,y:25,dx:sliderWidth,val1:2000.0,val2:2013.0,gap:0});
    var tr = paper.TextBox({
      x:hslider.getX()-labelWidth/2,y:45,width:labelWidth,height:22,str:Math.round(hslider.getVal()),textAttrs:{'font-size':20}
    });
    hslider.onmove = function() {
      tr.x=hslider.getX()-labelWidth/2; tr.setStr(Math.round(hslider.getVal())); 
      /*console.log("Current val: " + (hslider.getX()-sliderMinX)/sliderWidth + "%");*/
      refreshPoints((hslider.getX()-sliderMinX)/sliderWidth);
    }

  refreshPoints(hslider.getVal());

  function refreshPoints(slidePercent){
    for(var a = 0; a < plotted.length; a++){
        plotted[a].remove()
    }
    plotted = []
    /*for(var b = 0; b < whitedot.length; b++){
	whitedot[b].remove()
    }
    whitedot = []*/

    for(var i = 0; i < points.length; i++){ 
      var address = points[i][0];
      lat = points[i][1];
      lon = points[i][2];
      var monthClosed = points[i][3];
      var yearClosed = points[i][4];
      var myPercent = (yearClosed-2000+(monthClosed/12))/(2013-2000);
      map.plot(lat, parseFloat(lon), address).attr({"fill": "rgb(240, 240, 240)"});

      var inrange = Math.abs(myPercent-slidePercent);
      if(inrange <= 0.0325){
        /*console.log(address + ". Lat: " + lat + ", Lon: " + lon + ", Closed in "+monthClosed +"/"+yearClosed+", ");*/
       plotted.push(map.plot(lat, parseFloat(lon), address));
      }
     }
  }
};

window.onload = drawIt();


//END IGNORE BELOW
/*var geocoder = new google.maps.Geocoder();

  if (geocoder){
    console.log("Geocoder");
  }
    function initialize(address) {
      geocoder = new google.maps.Geocoder();
      codeAddr(address);
    }
    function codeAddr(address) {

      if (geocoder) {
        geocoder.geocode({ 'address': address }, function (results, status) {
          if (status == google.maps.GeocoderStatus.OK) {
            if (results[1]) {
              initContinued(results[0].formatted_address);
            } else {
              alert("No results found");
            }
          } else {
            alert("Geocoder failed due to: " + status);
          }
        });
      }

    }
    function initContinued(location) {
      alert(location);
      map.plot(location.geometry.location.ob, location.geometry.location.pb, location.formatted_address);
    }

    for(var i = 0; i < points.length; i++){ 
      var address = points[i][1];
      initialize(address);

  };*/

/*geocoder.geocode({ 'address': address }, function (results, status) {
      if (status == google.maps.GeocoderStatus.OK) {
        map.plot(results[0].geometry.location.ob, results[0].geometry.location.pb, results[0].formatted_address);
        console.log(results[0]);
        console.log("lat: " + results[0].geometry.location.ob + " long: " + results[0].geometry.location.pb);
      } else {
        console.log("Geocode was not successful for the following reason: " + status);
      }
    });*/

</script>
</body>
